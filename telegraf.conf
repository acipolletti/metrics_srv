
# Esempio di configurazione Telegraf per inviare metriche al server

[[outputs.http]]
  url = "https://localhost:8443/telegraf"
  method = "POST"
  data_format = "json"
  
  # Autenticazione TLS
  tls_ca = "/path/to/ca.crt"
  tls_cert = "/path/to/client.crt"
  tls_key = "/path/to/client.key"
  
  # Se usi API key
  # headers = {"Authorization" = "Bearer your-api-key"}
  
  # Timeout
  timeout = "5s"
  
  # Batch size
  metric_batch_size = 1000
  
  # Buffer
  metric_buffer_limit = 10000

# Esempio di input plugin
[[inputs.cpu]]
  percpu = true
  totalcpu = true
  collect_cpu_time = false
  report_active = false

[[inputs.mem]]
  # no configuration

[[inputs.disk]]
  ignore_fs = ["tmpfs", "devtmpfs", "devfs", "iso9660", "overlay", "aufs", "squashfs"]

